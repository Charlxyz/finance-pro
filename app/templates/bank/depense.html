{% extends 'base.html' %}

{% block title %}Ajouter une dépense - FinancePro{% endblock %}

{% block content %}

<div class="max-w-3xl mx-auto px-4 py-12">

    <h1 class="text-3xl font-bold text-gray-800 mb-10">
        Ajouter une dépense
    </h1>

    <div class="bg-white border border-gray-200 rounded-xl shadow-md p-8">

        <form action="/depenses/ajouter" method="POST" class="space-y-8">

            <!-- MONTANT -->
            <div>
                <label class="block text-gray-700 font-semibold mb-1">Montant de la dépense</label>
                <input type="number" step="0.01" name="amount" required
                       placeholder="Ex : 42.50"
                       class="w-full px-4 py-3 border rounded-lg bg-gray-50 focus:ring-2 focus:ring-red-500" />
            </div>

            <!-- CATÉGORIE -->
            <div>
                <label class="block text-gray-700 font-semibold mb-1">Catégorie</label>
                <select name="category" required
                        class="w-full px-4 py-3 border rounded-lg bg-gray-50 focus:ring-2 focus:ring-red-500">
                    <option value="">Choisir une catégorie</option>
                    <option value="Logement">Logement</option>
                    <option value="Transport">Transport</option>
                    <option value="Courses">Courses</option>
                    <option value="Santé">Santé</option>
                    <option value="Loisirs">Loisirs</option>
                    <option value="Abonnement">Abonnement</option>
                    <option value="Autre">Autre</option>
                </select>
            </div>

            <!-- DATE -->
            <div>
                <label class="block text-gray-700 font-semibold mb-1">Date</label>
                <input type="date" name="date" required
                       class="w-full px-4 py-3 border rounded-lg bg-gray-50 focus:ring-2 focus:ring-red-500" />
            </div>

            <!-- COMPTE -->
            <div>
                <label class="block text-gray-700 font-semibold mb-1">Compte associé</label>
                <select name="account_id" required
                        class="w-full px-4 py-3 border rounded-lg bg-gray-50 focus:ring-2 focus:ring-indigo-500">
                    <option value="">Sélectionner un compte</option>

                    {% for account in accounts %}
                        <option value="{{ account.id }}">{{ account.label }} ({{ account.balance }})</option>
                    {% endfor %}
                </select>
            </div>

            <!-- DESCRIPTION -->
            <div>
                <label class="block text-gray-700 font-semibold mb-1">Description (optionnel)</label>
                <textarea name="description" rows="3"
                          placeholder="Ex : courses alimentaires, facture EDF..."
                          class="w-full px-4 py-3 border rounded-lg bg-gray-50 focus:ring-2 focus:ring-indigo-500"></textarea>
            </div>

            <hr>

            <!-- BOUTONS -->
            <div class="flex justify-between">

                <a href="/dashboard"
                   class="py-3 px-6 bg-gray-100 border rounded-lg text-gray-700 hover:bg-gray-200 transition">
                    Annuler
                </a>

                <button type="submit"
                        class="py-3 px-6 bg-red-600 text-white font-semibold rounded-lg hover:bg-red-700 transition">
                    Ajouter la dépense
                </button>

            </div>

        </form>
    </div>
</div>

{% endblock %}
